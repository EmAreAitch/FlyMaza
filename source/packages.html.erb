<%# /source/packages.html.erb %>
<% 
  # Define destinations with categorized schema
  destinations = {
    domestic: [
      {
        id: "goa",
        name: "Goa",
        hero: "https://placehold.co/1200x400?text=Goa+Hero",
        packages: [
          { title: "Goa Beach Paradise", days: "5D / 4N", price: "₹15,999", image: "https://placehold.co/600x400?text=Beach+Paradise" },
          { title: "Goa Adventure Package", days: "4D / 3N", price: "₹12,499", image: "https://placehold.co/600x400?text=Adventure+Package" },
          { title: "Goa Family Retreat", days: "6D / 5N", price: "₹18,999", image: "https://placehold.co/600x400?text=Family+Retreat" }
        ]
      },
      {
        id: "kerala",
        name: "Kerala",
        hero: "https://placehold.co/1200x400?text=Kerala+Hero",
        packages: [
          { title: "Kerala Backwaters", days: "7D / 6N", price: "₹22,999", image: "https://placehold.co/600x400?text=Backwaters" },
          { title: "Hill Station Escape", days: "5D / 4N", price: "₹16,999", image: "https://placehold.co/600x400?text=Hill+Station" },
          { title: "Kerala Ayurveda Retreat", days: "8D / 7N", price: "₹28,999", image: "https://placehold.co/600x400?text=Ayurveda+Retreat" }
        ]
      },
      {
        id: "rajasthan",
        name: "Rajasthan",
        hero: "https://placehold.co/1200x400?text=Rajasthan+Hero",
        packages: [
          { title: "Royal Rajasthan Tour", days: "8D / 7N", price: "₹32,999", image: "https://placehold.co/600x400?text=Royal+Tour" },
          { title: "Desert Safari Adventure", days: "6D / 5N", price: "₹24,999", image: "https://placehold.co/600x400?text=Desert+Safari" },
          { title: "Heritage Palace Tour", days: "7D / 6N", price: "₹28,999", image: "https://placehold.co/600x400?text=Heritage+Tour" }
        ]
      }
    ],
    international: [
      {
        id: "paris",
        name: "Paris",
        hero: "https://placehold.co/1200x400?text=Paris+Hero",
        packages: [
          { title: "Paris Luxury Escape", days: "7D / 6N", price: "$2,499", image: "https://placehold.co/600x400?text=Luxury+Escape" },
          { title: "Romantic Paris Getaway", days: "5D / 4N", price: "$1,499", image: "https://placehold.co/600x400?text=Romantic+Getaway" },
          { title: "Family Fun in Paris", days: "6D / 5N", price: "$1,999", image: "https://placehold.co/600x400?text=Family+Fun" }
        ]
      },
      {
        id: "dubai",
        name: "Dubai",
        hero: "https://placehold.co/1200x400?text=Dubai+Hero",
        packages: [
          { title: "Dubai Adventure", days: "6D / 5N", price: "$1,799", image: "https://placehold.co/600x400?text=Adventure" },
          { title: "Luxury Desert Escape", days: "4D / 3N", price: "$1,299", image: "https://placehold.co/600x400?text=Desert+Escape" },
          { title: "Dubai Family Fun", days: "5D / 4N", price: "$1,499", image: "https://placehold.co/600x400?text=Family+Fun" }
        ]
      },
      {
        id: "tokyo",
        name: "Tokyo",
        hero: "https://placehold.co/1200x400?text=Tokyo+Hero",
        packages: [
          { title: "Tokyo Explorer", days: "7D / 6N", price: "$2,199", image: "https://placehold.co/600x400?text=Tokyo+Explorer" },
          { title: "Cultural Tokyo", days: "5D / 4N", price: "$1,599", image: "https://placehold.co/600x400?text=Cultural+Trip" },
          { title: "Tokyo Food Tour", days: "4D / 3N", price: "$1,299", image: "https://placehold.co/600x400?text=Food+Tour" }
        ]
      }
    ]
  }
%>

<%# Tab Navigation Section %>
<section class="py-24 lg:py-32">
  <div class="container-custom">
    <div class="text-center mb-8">
      <h2 class="heading-section text-gray-900 mb-4">Explore Our Travel Destinations</h2>
      <p class="text-gray-600 max-w-2xl mx-auto mb-6">Discover amazing places around the world with our carefully curated travel packages. Choose from exciting domestic adventures or incredible international journeys.</p>
      
      <div class="flex justify-center">
        <div class="flex space-x-2 bg-gray-100 rounded-lg p-1">
          <button 
            class="tab-button px-6 py-2 text-sm font-semibold rounded-md bg-primary-600 text-white transition-all duration-200 focus:outline-none cursor-pointer" 
            data-tab="domestic"
            onclick="showTab('domestic', this)"
          >
            Domestic Destinations
          </button>
          <button 
            class="tab-button px-6 py-2 text-sm font-semibold rounded-md bg-transparent text-gray-600 transition-all duration-200 focus:outline-none cursor-pointer" 
            data-tab="international"
            onclick="showTab('international', this)"
          >
            International Destinations
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<%# Domestic Destinations Content %>
<div id="domestic-content" class="tab-content">
  <% destinations[:domestic].each do |dest| %>
    <%# Destination Hero Section %>
    <section class="relative h-[400px] bg-cover bg-center overflow-hidden" style="background-image: url('<%= dest[:hero] %>')">
      <div class="absolute inset-0 gradient-overlay"></div>
      <div class="relative z-10 container-custom flex flex-col justify-center h-full text-white">
        <h2 class="heading-hero mb-4">Packages for <%= dest[:name] %></h2>
        <p class="text-lg md:text-xl max-w-2xl">Handpicked packages to explore <%= dest[:name] %> in style.</p>
      </div>
    </section>
    
    <%# Packages Grid Section %>
    <section class="section-spacing">
      <div class="container-custom">
        <div class="mb-12 text-center">
          <h3 class="heading-section text-gray-900">Explore <%= dest[:name] %> Packages</h3>
          <p class="text-gray-600">Choose from our curated selection of travel experiences.</p>
        </div>
        <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
          <% dest[:packages].each do |pkg| %>
            <div class="relative rounded-2xl overflow-hidden group card-hover shadow-card">
              <img src="<%= pkg[:image] %>" alt="<%= pkg[:title] %>" class="w-full h-64 object-cover transition-transform duration-700 group-hover:scale-105">
              <div class="image-overlay"></div>
              <div class="absolute bottom-6 left-6 text-white">
                <h4 class="heading-card mb-1"><%= pkg[:title] %></h4>
                <p class="text-white/80 text-sm mb-1"><%= pkg[:days] %></p>
                <p class="font-semibold"><%= pkg[:price] %></p>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </section>
  <% end %>
</div>

<%# International Destinations Content %>
<div id="international-content" class="tab-content hidden">
  <% destinations[:international].each do |dest| %>
    <%# Destination Hero Section %>
    <section class="relative h-[400px] bg-cover bg-center overflow-hidden" style="background-image: url('<%= dest[:hero] %>')">
      <div class="absolute inset-0 gradient-overlay"></div>
      <div class="relative z-10 container-custom flex flex-col justify-center h-full text-white">
        <h2 class="heading-hero mb-4">Packages for <%= dest[:name] %></h2>
        <p class="text-lg md:text-xl max-w-2xl">Handpicked packages to explore <%= dest[:name] %> in style.</p>
      </div>
    </section>
    
    <%# Packages Grid Section %>
    <section class="section-spacing">
      <div class="container-custom">
        <div class="mb-12 text-center">
          <h3 class="heading-section text-gray-900">Explore <%= dest[:name] %> Packages</h3>
          <p class="text-gray-600">Choose from our curated selection of travel experiences.</p>
        </div>
        <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
          <% dest[:packages].each do |pkg| %>
            <div class="relative rounded-2xl overflow-hidden group card-hover shadow-card">
              <img src="<%= pkg[:image] %>" alt="<%= pkg[:title] %>" class="w-full h-64 object-cover transition-transform duration-700 group-hover:scale-105">
              <div class="image-overlay"></div>
              <div class="absolute bottom-6 left-6 text-white">
                <h4 class="heading-card mb-1"><%= pkg[:title] %></h4>
                <p class="text-white/80 text-sm mb-1"><%= pkg[:days] %></p>
                <p class="font-semibold"><%= pkg[:price] %></p>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </section>
  <% end %>
</div>

<%# JavaScript for Tab Functionality %>
<script>
  function showTab(tabName, clickedButton) {
    // Hide all tab contents
    const contents = document.querySelectorAll('.tab-content');
    contents.forEach(content => {
      content.classList.add('hidden');
    });
    
    // Reset all buttons to inactive state
    const buttons = document.querySelectorAll('.tab-button');
    buttons.forEach(button => {
      button.classList.remove('bg-primary-600', 'text-white');
      button.classList.add('bg-transparent', 'text-gray-600');
    });
    
    // Show selected tab content
    document.getElementById(tabName + '-content').classList.remove('hidden');
    
    // Set clicked button to active state
    clickedButton.classList.remove('bg-transparent', 'text-gray-600');
    clickedButton.classList.add('bg-primary-600', 'text-white');
  }
</script>
