<%
  # Hero Section Variables
  hero_title = "Your Journey, Our Expertise"
  hero_subtitle = "From weekend escapes to international adventures â€” Fly Maza designs seamless travel experiences that fit your dreams."
  hero_cta_primary = "Explore Packages"
  hero_cta_secondary = "Get Support"
  hero_search_placeholder = "Search destinations, tours, or packages..."
  hero_image = "https://placehold.co/1920x800/4A5A96/FFFFFF?text=Fly+Maza+Travel"
  
  # Stats Variables
  stats = [
    { number: "500+", label: "Happy Travelers" },
    { number: "15+", label: "Years of Experience" },
    { number: "50+", label: "Destinations Covered" },
    { number: "4.7", label: "Customer Rating" }
  ]
  
  # Tourism Section
  tourism_title = "Discover Incredible Destinations"
  tourism_subtitle = "From the breathtaking beauty of India to unforgettable international tours, Fly Maza brings you journeys crafted with care."
  destinations = data.travel.destinations.values.flatten.filter(&:featured)
  tourism_cards = [
    {
      title: "Borobudur Keajaiban",
      subtitle: "Ancient Temple Tour",
      image: "https://placehold.co/400x300/20B2AA/FFFFFF?text=Borobudur+Temple",
      description: "Experience the magnificent ancient temple"
    },
    {
      title: "Keindahan Alam Raja Ampat",
      subtitle: "Marine Paradise Tour",
      image: "https://placehold.co/400x300/FF6B35/FFFFFF?text=Raja+Ampat",
      description: "Discover underwater paradise"
    },
    {
      title: "Labuan Bajo Gateway",
      subtitle: "Komodo Dragon Tour",
      image: "https://placehold.co/600x400/4A5A96/FFFFFF?text=Labuan+Bajo",
      description: "Adventure to the land of dragons"
    },
    {
      title: "Yogyakarta Culture",
      subtitle: "Cultural Heritage Tour",
      image: "https://placehold.co/400x300/F59E0B/FFFFFF?text=Yogyakarta",
      description: "Immerse in Javanese culture"
    }
  ]
  
  # Process Section
  process_title = "How Fly Maza Works"
  process_image = "https://placehold.co/500x600/4A5A96/FFFFFF?text=Travel+Experience"

  process_steps = [
    {
      icon: "search",
      title: "Explore Destinations",
      description: "Browse our domestic and international destinations to find your perfect travel spot."
    },
    {
      icon: "package",
      title: "Check Packages",
      description: "View available travel packages for each destination and pick what suits your needs."
    },
    {
      icon: "form",
      title: "Submit Enquiry",
      description: "Fill out our detailed enquiry form with your selected destination, package, or custom requests."
    },
    {
      icon: "support",
      title: "We Make It Possible",
      description: "Our team receives your request and works to craft a tailored travel experience just for you."
    }
  ]

  
  # Tourist Destinations Section
  destinations_title = "Our Most Popular Packages"
  destinations_subtitle = "Handpicked trips loved by our travelers, combining comfort, adventure, and value."
  
  packages = data.travel.destinations.values.flatten.map(&:packages).flatten.filter(&:featured)
  
  testimonials = [
    {
      name: "Daniel Sullivan",
      role: "Travel Enthusiast",
      content: "This travel website is very informative and easy to use. Booked online and the package was exactly as described with excellent recommendations."
    },
    {
      name: "Priya Sharma",
      role: "Adventure Seeker",
      content: "Fly Maza made my trip to Manali seamless and memorable. From selecting packages to personalized suggestions, everything was perfect."
    },
    {
      name: "Arjun Mehta",
      role: "Family Traveler",
      content: "We booked a family vacation to Goa through Fly Maza. The attention to detail and smooth communication made it stress-free and enjoyable."
    }
  ]
  current_testimonial_index = 0

  
  # Travel Memories Section
  memories_title = "Our Travel Stories"
  
  memories = [
    {
      title: "2023 Travel Trends - what you need to know",
      category: "Travel Tips",
      image: "https://placehold.co/400x250/4A5A96/FFFFFF?text=Travel+Trends+2023",
      excerpt: "Discover the latest travel trends and destinations for this year",
      date: "Nov 14, 2022"
    },
    {
      title: "Jeep Adventure is a new attraction for tourists visiting Garut",
      category: "Adventure",
      image: "https://placehold.co/400x250/FF6B35/FFFFFF?text=Jeep+Adventure",
      excerpt: "Experience thrilling jeep adventures in the beautiful landscapes of Garut",
      date: "Nov 18, 2022"
    }
  ]

  content_for :head, javascript_include_tag("contact", defer: true)
%>

<!-- Hero Section Wrapper -->
<section>
  <!-- Rounded Hero Section -->
  <div class="relative min-h-screen flex items-center justify-center overflow-hidden">
    <!-- Background Image -->
    <div class="absolute inset-0 z-0">
      <img src=<%= responsive_image("hero.jpg") %> class="w-full h-full object-cover">      
      <div class="absolute inset-0 bg-gradient-to-b from-black/30 via-black/20 to-black/50"></div>
    </div>
    
    <!-- Hero Content -->
    <div class="relative z-10 container-custom text-center text-white">
      <div class="max-w-5xl mx-auto fade-in">
        <h1 class="text-3xl sm:text-4xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight">
          <%= hero_title %>
        </h1>
        <p class="text-base sm:text-lg md:text-xl mb-12 text-white/90 max-w-2xl mx-auto font-medium">
          <%= hero_subtitle %>
        </p>
      </div>
      <!-- Hero CTA Buttons -->
      <div class="mt-8 flex flex-col sm:flex-row justify-center gap-4 fade-in">
        <a href="#contact" 
           class="px-8 py-4 bg-secondary-500 text-white font-semibold rounded-full text-lg hover:bg-golden-400 transition-all duration-300 transform hover:scale-105">
          Book Your Adventure
        </a>
        <a href="/packages/" 
           class="px-8 py-4 bg-white text-gray-900 font-semibold rounded-full text-lg hover:bg-gray-100 transition-all duration-300 transform hover:scale-105">
          Explore Packages
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Stats Section - Half Overlapping -->
<section class="-mt-30 md:-mt-20 relative z-30 pb-16">
  <div class="container-custom px-6 sm:px-8 md:px-12">
    <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-4">
    <% stats.each do |stat| %>
      <div class="bg-white rounded-2xl p-6 text-center shadow-xl">
        <div class="text-2xl md:text-4xl font-bold mb-2 text-gray-900"><%= stat[:number] %></div>
        <div class="text-sm text-gray-600 font-medium"><%= stat[:label] %></div>
      </div>
    <% end %>
    </div>
  </div>
</section>


<!-- Indonesian Tourism Section -->
<section class="section-spacing">
  <div class="container-custom px-4">
    <!-- Section Header -->
    <div class="mb-16 fade-in text-left">
      <p class="text-gray-400 text-sm font-medium mb-2 uppercase tracking-wide">Best location</p>
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
        <%= tourism_title %>
      </h2>
      <p class="text-lg text-gray-500 max-w-md">
        <%= tourism_subtitle %>
      </p>
    </div>

    <!-- Tourism Cards Grid -->
    <div class="space-y-6 mb-16">
      <%= partial "destinations", locals: {destinations:} %>
    </div>    
    <div class="text-center">
      <a href="/destinations/" class="bg-black hover:bg-gray-800 text-white font-semibold px-8 py-4 rounded-full transition-all duration-300 transform hover:scale-105">
        View more
      </a>
    </div>    
  </div>
</section>

<!-- Process Section - Fly Maza Workflow -->
<section class="section-spacing bg-gray-50">
  <div class="container-custom">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
      
      <!-- Process Image -->
      <div class="slide-in-left">
        <div class="relative">
          <!-- Hero image with search interface overlay -->
          <img src="https://image.pollinations.ai/prompt/Dramatic%20tropical%20beach%20rock%20formations%20crystal%20clear%20turquoise%20water%20pristine%20coastline%20travel%20destination?width=600&height=600&seed=42150&nologo=true" alt="Travel Process" class="w-full h-96 lg:h-[600px] object-cover rounded-2xl">
          
          <!-- Dark gradient overlay -->
          <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-black/10 rounded-2xl"></div>
          
          <!-- Search interface overlay -->
          <div class="absolute bottom-6 left-6 right-6">
            <!-- Bottom text -->
            <div class="mt-4">
              <p class="text-white text-lg leading-relaxed">
                Embark on a journey to find your dream destination, where adventure and relaxation await, creating unforgettable memories along the way
              </p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Process Steps -->
      <div class="slide-in-right">
        <!-- Section header -->
        <div class="mb-12">
          <p class="text-gray-500 text-lg mb-4">Our Process</p>
          <h2 class="heading-section text-gray-900">
            <%= process_title %>
          </h2>
        </div>
        
        <div class="space-y-10">
          <% process_steps.each do |step| %>
            <div class="flex items-start space-x-6 fade-in group cursor-pointer transition-all duration-300 hover:bg-white hover:shadow-lg hover:-translate-y-1 rounded-2xl p-6 -m-6">
              
              <!-- Icon -->
              <div class="flex-shrink-0">
                <div class="w-16 h-16 bg-gray-100 group-hover:bg-primary-100 rounded-2xl flex items-center justify-center transition-all duration-300">
                  <% case step[:icon] %>
                  <% when "search" %>
                    <!-- Magnifying glass -->
                    <svg class="w-8 h-8 text-gray-700 group-hover:text-primary-600 transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                  <% when "package" %>
                    <!-- Suitcase -->
                    <svg class="w-8 h-8 text-gray-700 group-hover:text-primary-600 transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7h18v14H3V7zm5-4h4v4H8V3z"></path>
                    </svg>
                  <% when "form" %>
                    <!-- Clipboard -->
                    <svg class="w-8 h-8 text-gray-700 group-hover:text-primary-600 transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6M9 8h6M4 6h16v14H4V6z"></path>
                    </svg>
                  <% when "support" %>
                    <!-- Compass/Map -->
                    <svg class="w-8 h-8 text-gray-700 group-hover:text-primary-600 transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 2l3 7 7 3-7 3-3 7-3-7-7-3 7-3 3-7z"></path>
                    </svg>
                  <% end %>
                </div>
              </div>
              
              <!-- Step Text -->
              <div class="pt-2">
                <h3 class="text-2xl font-bold text-gray-900 group-hover:text-primary-700 mb-3 transition-colors duration-300">
                  <%= step[:title] %>
                </h3>
                <p class="text-gray-500 group-hover:text-gray-700 text-lg leading-relaxed transition-colors duration-300">
                  <%= step[:description] %>
                </p>
              </div>
            </div>
          <% end %>
        </div>
      </div>
      
    </div>
  </div>
</section>

<!-- Tourist Destinations Section -->
<section class="section-spacing">
  <div class="container-custom">
    <!-- Section Header -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-end mb-16 fade-in">
      <div>
        <p class="text-gray-400 text-lg mb-4">Tour packages</p>
        <h2 class="heading-section text-gray-900">
          <%= destinations_title %>
        </h2>
      </div>
      <div class="lg:text-right">
        <p class="text-xl text-gray-500 max-w-md lg:ml-auto">
          <%= destinations_subtitle %>
        </p>
      </div>
    </div>
    
    <!-- Destinations Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
      <% packages.each_with_index do |package, index| %>
        <%= partial "package", locals: {package: } %>
      <% end %>
    </div>
    
    <!-- View More Button -->
    <div class="text-center fade-in">
      <a href="/packages/" class="bg-black hover:bg-gray-800 text-white font-semibold px-8 py-4 rounded-full transition-all duration-300 transform hover:scale-105">
        View more
      </a>
    </div>
  </div>
</section>

<!-- Testimonial Section -->
<section class="section-spacing bg-gray-50">
  <div class="container-custom px-4">
    <div class="max-w-6xl mx-auto">
      <div class="grid grid-cols-1 lg:grid-cols-12 lg:gap-16 items-start">

        <!-- Left Side: Avatar, Name, Role -->
        <div class="fade-in lg:col-span-4 flex flex-col lg:items-start items-start">
          <div class="flex items-center space-x-4 lg:mb-8">
            <div class="w-16 h-16 lg:w-20 lg:h-20 rounded-full overflow-hidden flex-shrink-0">
              <img id="testimonialAvatar" src="https://placehold.co/80x80/4A5A96/FFFFFF?text=<%= testimonials[current_testimonial_index][:name][0] %>" 
                   alt="<%= testimonials[current_testimonial_index][:name] %>" 
                   class="w-full h-full object-cover">
            </div>
            <div>
              <div id="testimonialName" class="font-bold text-xl lg:text-2xl mb-1 text-gray-900">
                <%= testimonials[current_testimonial_index][:name] %>
              </div>
              <div id="testimonialRole" class="text-sm lg:text-lg text-gray-500">
                <%= testimonials[current_testimonial_index][:role] %>
              </div>
            </div>
          </div>

          <!-- Desktop navigation arrows -->
          <div class="hidden lg:flex mt-4 lg:mt-0">
            <div class="flex items-center space-x-4">
              <button id="testimonialPrev" class="w-12 h-12 rounded-full border border-gray-200 hover:border-gray-300 flex items-center justify-center transition-all duration-300 hover:bg-gray-50 group">
                <svg class="w-5 h-5 text-gray-400 group-hover:text-gray-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
              </button>
              <button id="testimonialNext" class="w-12 h-12 rounded-full bg-gray-900 hover:bg-gray-800 flex items-center justify-center transition-all duration-300 group">
                <svg class="w-5 h-5 text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
              </button>
            </div>
          </div>
        </div>

        <!-- Right Side: Testimonial Content -->
        <div class="fade-in lg:col-span-8 mt-6 lg:mt-0 flex flex-col">
          <div class="pt-2 lg:pt-4">
            <p id="testimonialContent" class="text-gray-700 text-base md:text-lg lg:text-xl leading-relaxed font-normal">
              <%= testimonials[current_testimonial_index][:content] %>
            </p>
          </div>

          <!-- Mobile navigation arrows -->
          <div class="flex items-center justify-start space-x-4 mt-6 lg:hidden">
            <button id="testimonialPrevMobile" class="w-10 h-10 rounded-full border border-gray-200 hover:border-gray-300 flex items-center justify-center transition-all duration-300 hover:bg-gray-50 group">
              <svg class="w-4 h-4 text-gray-400 group-hover:text-gray-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
              </svg>
            </button>
            <button id="testimonialNextMobile" class="w-10 h-10 rounded-full bg-gray-900 hover:bg-gray-800 flex items-center justify-center transition-all duration-300 group">
              <svg class="w-4 h-4 text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </button>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>



<!-- Travel Memories Section -->
<section class="section-spacing bg-gray-50">
  <div class="container-custom">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <p class="text-gray-500 text-lg mb-2">Our Blog</p>
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900">
        Our travel memories
      </h2>
    </div>
    
    <!-- Memories Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
      <% blog.articles.first(3).each do |article| %>
        <%= partial "article", locals: {article:} %>
      <% end %>
    </div>
    
    <!-- View More Button -->
    <div class="text-center">
      <a href="/articles/" class="bg-black hover:bg-gray-800 text-white font-semibold px-8 py-4 rounded-full transition-all duration-300 transform hover:scale-105">
        View more
      </a>
    </div>
  </div>
</section>

<section class="section-spacing bg-white" id="contact">
  <div class="container-custom">
    <div class="text-center mb-16 fade-in">
      <p class="text-gray-500 text-lg mb-4">Get in touch</p>
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">Plan your next adventure</h2>
    </div>

    <div class="max-w-3xl mx-auto">
      <form class="bg-gray-50 rounded-3xl p-8 md:p-12" name="enquiry" method="POST" netlify>
        
        <!-- Personal Details -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <div>
            <label for="name" class="block text-gray-900 font-semibold mb-2">Full Name</label>
            <input type="text" id="name" name="name" placeholder="Enter your full name" class="w-full px-6 py-4 bg-white border-2 border-gray-200 rounded-xl" required>
          </div>
          <div>
            <label for="email" class="block text-gray-900 font-semibold mb-2">Email</label>
            <input type="email" id="email" name="email" placeholder="Enter your email address" class="w-full px-6 py-4 bg-white border-2 border-gray-200 rounded-xl" required>
          </div>
          <div>
            <label for="phone" class="block text-gray-900 font-semibold mb-2">Phone Number</label>
            <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" class="w-full px-6 py-4 bg-white border-2 border-gray-200 rounded-xl" required>
          </div>
          <div>
            <label for="travelDate" class="block text-gray-900 font-semibold mb-2">Travel Date</label>
            <input type="date" id="travelDate" name="travelDate" placeholder="Select your travel date" class="w-full px-6 py-4 bg-white border-2 border-gray-200 rounded-xl" required>
          </div>
        </div>

        <!-- Travel Type -->
        <div class="mb-6">
          <label class="block text-lg font-semibold text-gray-900 mb-2">Travel Type</label>
          <div class="flex gap-6">
            <label><input type="radio" name="travelType" value="Domestic" class="travel-radio" required> Domestic</label>
            <label><input type="radio" name="travelType" value="International" class="travel-radio" required> International</label>
          </div>
        </div>

        <!-- Destination -->
        <div class="mb-6">
          <label class="block text-lg font-semibold text-gray-900 mb-2">Destination</label>
          <div class="px-6 py-4 bg-white border-2 border-gray-200 rounded-xl">
            <select id="destinationSelect" class="w-full" required>
              <option value="" disabled selected hidden>Choose your destination</option>
            </select>
          </div>
          <input type="text" id="destination" placeholder="Enter your destination"
            class="w-full px-6 py-4 mt-3 bg-white border-2 border-gray-200 rounded-xl hidden" name="destination">
        </div>

        <!-- Package -->
        <div class="mb-6">
          <label class="block text-lg font-semibold text-gray-900 mb-2">Package</label>
          <div class="px-6 py-4 bg-white border-2 border-gray-200 rounded-xl">
            <select id="packageSelect" class="w-full" name="package" required>
              <option value="" disabled selected hidden>Choose a package</option>
            </select>
          </div>

          <!-- Custom Package Fields -->
          <div id="customPackageFields" class="hidden mt-4 space-y-4">
            <div class="grid grid-cols-2 gap-4">
              <div>
                <label for="packageDays" class="block text-gray-900 font-semibold mb-2">Days</label>
                <input type="number" id="packageDays" min="1" placeholder="Number of days" class="w-full px-6 py-4 bg-white border-2 border-gray-200 rounded-xl" name="packageDays">
              </div>
              <div>
                <label for="packageNights" class="block text-gray-900 font-semibold mb-2">Nights</label>
                <input type="number" id="packageNights" min="0" placeholder="Number of nights" class="w-full px-6 py-4 bg-white border-2 border-gray-200 rounded-xl" name="packageNights">
              </div>
            </div>
            <div>
              <label for="packageDescription" class="block text-gray-900 font-semibold mb-2">Description</label>
              <textarea id="packageDescription" rows="3" placeholder="Enter package description" class="w-full px-6 py-4 bg-white border-2 border-gray-200 rounded-xl resize-none" name="packageDescription"></textarea>
            </div>
          </div>
        </div>

        <!-- Package Details -->
        <div id="packageDetails" class="mb-8">
          <div class="bg-white rounded-2xl p-6 border-2 border-gray-200">
            <div id="detailsContent">
              <p class="text-gray-500 text-center">Select a package to see details</p>
            </div>
          </div>
        </div>

        <!-- Guests -->
        <div class="mb-6">          
            <label for="travelers" class="block text-gray-900 font-semibold mb-2">Travelers</label>
            <input type="number" id="travelers" name="travelers" min="1" placeholder="No. of travelers" class="w-full px-6 py-4 bg-white border-2 border-gray-200 rounded-xl" required>          
        </div>

        <!-- Additional -->
        <div class="mb-8">
          <label for="additionalDetails" class="block text-lg font-semibold text-gray-900 mb-2">Additional Details</label>
          <textarea id="additionalDetails" name="additionalDetails" rows="4" placeholder="Enter any additional details" class="w-full px-6 py-4 bg-white border-2 border-gray-200 rounded-xl resize-none"></textarea>
        </div>

        <button type="submit" class="w-full bg-black text-white font-semibold py-4 rounded-full hover:bg-gray-800 transition-all duration-300">
          Send Inquiry
        </button>
      </form>
    </div>
  </div>
</section>


<script>
  const testimonials = <%= testimonials.to_json %>;
  let currentIndex = 0;

  const avatarEl = document.getElementById("testimonialAvatar");
  const nameEl = document.getElementById("testimonialName");
  const roleEl = document.getElementById("testimonialRole");
  const contentEl = document.getElementById("testimonialContent");

  function updateTestimonial(index) {
    const t = testimonials[index];
    avatarEl.src = `https://placehold.co/80x80/4A5A96/FFFFFF?text=${t.name[0]}`;
    avatarEl.alt = t.name;
    nameEl.textContent = t.name;
    roleEl.textContent = t.role;
    contentEl.textContent = t.content;
  }

  function prevTestimonial() {
    currentIndex = (currentIndex - 1 + testimonials.length) % testimonials.length;
    updateTestimonial(currentIndex);
  }

  function nextTestimonial() {
    currentIndex = (currentIndex + 1) % testimonials.length;
    updateTestimonial(currentIndex);
  }

  // Desktop arrows
  document.getElementById("testimonialPrev").addEventListener("click", prevTestimonial);
  document.getElementById("testimonialNext").addEventListener("click", nextTestimonial);

  // Mobile arrows
  document.getElementById("testimonialPrevMobile").addEventListener("click", prevTestimonial);
  document.getElementById("testimonialNextMobile").addEventListener("click", nextTestimonial);
</script>
