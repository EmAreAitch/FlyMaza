<%# /source/destinations/paris.html.erb %>
<% content_for :head do %>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "TouristDestination",
    "name": "<%= json_escape(destination.name) %>",
    "description": "<%= json_escape(destination.description) %>",
    "url": "<%= config[:root_url] %><%= destination.url %>",
    "image": "<%= config[:root_url] %><%= responsive_image(destination.hero) %>",
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "<%= destination.type == 'domestic' ? 'IN' : destination.country_code || 'IN' %>"
    },
    "hasOfferCatalog": {
      "@type": "OfferCatalog",
      "name": "<%= destination.name %> Travel Packages",
      "itemListElement": [
        <% destination.packages.each_with_index do |package, index| %>
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "TouristTrip",
            "name": "<%= json_escape(package.title) %>",
            "description": "<%= json_escape(package.description) %>",
            "duration": "<%= package.duration %>",
            "price": "<%= package.price %>"
          }
        }<%= ',' unless index == destination.packages.length - 1 %>
        <% end %>
      ]
    }
  }
  </script>
<% end %>

<main>
  <%# Hero Section %>
  <% dest_hero_url = responsive_image(destination.hero, w: 1920, h: 1080) %>
  <section class="relative h-[90dvh] bg-cover bg-center" style="background-image: url('<%= dest_hero_url %>')">
    <div class="absolute inset-0 gradient-overlay"></div>
    <div class="container-custom relative z-10 h-full flex flex-col justify-center">
      <h1 class="heading-hero text-white mb-4"><%= destination.name %></h1>
      <p class="text-white/80 max-w-2xl text-lg md:text-xl"><%= destination.description %></p>
    </div>
  </section>
  
  <%# Highlights Section %>
  <section class="section-spacing bg-white">
    <div class="container-custom">
      <div class="max-w-4xl mx-auto">
        <h2 class="heading-section mb-6 text-gray-900 text-center">Why Visit <%= destination.name %>?</h2>
        <ul class="space-y-4 text-gray-700">
          <% destination.highlights.each do |highlight| %>
            <li class="flex items-start gap-3">
              <span class="flex-shrink-0 w-6 h-6 bg-primary-600 text-white flex items-center justify-center rounded-full">âœ“</span>
              <span><%= highlight %></span>
            </li>
          <% end %>
        </ul>
      </div>
    </div>
  </section>
  
  <%# Gallery Section %>
  <% if destination.gallery.present? %>
    <section class="section-spacing bg-gray-50">
      <div class="container-custom">
        <div class="mb-12 text-center">
          <h2 class="heading-section text-gray-900"><%= destination.name %> Gallery</h2>
          <p class="text-gray-600">A glimpse of the beauty you'll experience.</p>
        </div>
        <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
          <% destination.gallery.each do |image| %>
            <div class="rounded-2xl overflow-hidden shadow-card">
              <%= responsive_image_tag(image, mobile_w: 600, desktop_w: 800, h: 600, alt: "#{destination.name} gallery image", css_class: "w-full h-64 object-cover") %>
            </div>
          <% end %>
        </div>
      </div>
    </section>
  <% end %>
  
  <%# Popular Packages Section %>
  <section class="section-spacing bg-white">
    <div class="container-custom">
      <div class="mb-12 text-center">
        <h2 class="heading-section text-gray-900">Popular Packages for <%= destination.name %></h2>
        <p class="text-gray-600">Handpicked packages to make your <%= destination.name %> experience unforgettable.</p>
      </div>
      <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        <% destination.packages.each do |package| %>
          <%= partial "package", locals: {package:} %>
        <% end %>
      </div>
    </div>
  </section>
  
  <%# CTA Section %>
  <section class="py-32 bg-primary-600">
    <div class="container-custom text-center">
      <div class="inline-block bg-white/10 backdrop-blur-lg rounded-2xl p-12 shadow-card">
        <h2 class="heading-section text-white mb-4">Book Your <%= destination.name %> Adventure</h2>
        <p class="text-white/80 mb-8">Turn your <%= destination.name %> dreams into reality with our curated packages.</p>
        <a href="/#contact" class="btn-secondary">Book now</a>
      </div>
    </div>
  </section>
</main>
